<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS DRUM KIT</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="keys">
        <div data-key="65" class="key">
            <kbd>A</kbd>
            <span class="sound">clap</span>
        </div>

        <div data-key ="83" class="key">
            <kbd>S</kbd>
            <span class="sound">hithat</span>
        </div>


        <div data-key ="68" class="key">
            <kbd>D</kbd>
            <span class="sound">kicks</span>
        </div>
   
        <div data-key="70" class="key">
            <kbd>F</kbd>
            <span class="sound">openhat</span>
        </div>
        
        <div data-key="71" class="key">
            <kbd>G</kbd>
            <span class="sound">boom</span>
        </div>
    
        <div data-key="72" class="key">
            <kbd>H</kbd>
            <span class="sound">ride</span>
        </div>
    
        <div data-key="74" class="key">
            <kbd>J</kbd>
            <span class="sound">snare</span>
        </div>

        <div data-key="75" class="key">
            <kbd>K</kbd>
            <span class="sound">tom</span>
        </div>

        <div data-key="76" class="key">
            <kbd>L</kbd>
            <span class="sound">tink</span>
        </div>

    </div>

    <audio data-key="65" src="sounds/01 - JavaScript Drum Kit_sounds_clap.wav"></audio>
    <audio data-key="83" src="sounds/01 - JavaScript Drum Kit_sounds_hihat.wav"></audio>
    <audio data-key="68" src="sounds/01 - JavaScript Drum Kit_sounds_kick.wav"></audio>
    <audio data-key="70" src="sounds/01 - JavaScript Drum Kit_sounds_openhat.wav"></audio>
    <audio data-key="71" src="sounds/01 - JavaScript Drum Kit_sounds_boom.wav"></audio>
    <audio data-key="72" src="sounds/01 - JavaScript Drum Kit_sounds_ride.wav"></audio>
    <audio data-key="74" src="sounds/01 - JavaScript Drum Kit_sounds_snare.wav"></audio>
    <audio data-key="75" src="sounds/01 - JavaScript Drum Kit_sounds_tom.wav"></audio>
    <audio data-key="76" src="sounds/01 - JavaScript Drum Kit_sounds_tink.wav"></audio>
    
<script>
    function removeTransition(e)         //this function is intended to remove a CSS class from an element.
    {     
        if (e.propertyName !== 'transform') return; // 'propertyName' property represents the name of the CSS property that triggered the transition
        e.target.classList.remove('playing');    // this line removes the CSS class 'playing' from the 'classlist' property of the 'target'
    } 
  

  function playSound(e)  // this js function is designed to play an audio file associated with the specific key press event. & also invloving the required css class.
  {
    const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);  // this line is used to create a dynamic query selector that looks for an html 'audio' element with a 'data-key' attribute that matches the 'keyCode' property of event 'e' . 
    const key = document.querySelector(`div[data-key="${e.keyCode}"]`);  // dynamic query selector that looks for an HTML 'div' element with a 'data-key' attribute that matches the 'keyCode' property of event e. The 'key' variable will store the reference to the 'div' element that corresponds to the key that was pressed. 
    if (!audio) return;  // stop the function form running.

    key.classList.add('playing');     // this line adds the css class 'playing'.
    audio.currentTime = 0;   // this line sets the 'currentTime' property of the 'audio' element to 0 , it means that the audio will start playing from the beginning every time the key is pressed.
    audio.play();       // plays the audio associated with the 'audio' element.
  }

  const keys = Array.from(document.querySelectorAll('.key'));
  keys.forEach(key => key.addEventListener('transitionend', removeTransition));
  window.addEventListener('keydown', playSound);

</script>


</body>
</html>